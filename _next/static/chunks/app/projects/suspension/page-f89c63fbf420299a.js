(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[381],{30746:function(e,t,n){Promise.resolve().then(n.bind(n,63861))},63861:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return b}});var r=n(57437),s=n(2265),l=n(95780),a=n(57585),i=n(34673),c=n(26547),o=n(97776),u=n(75945),m=n(97784),h=n(58140),d=n(68542);function p(e){let{currentBumpSuspension:t,isPausedSuspension:n,sliderValueSuspension:a,useSliderSuspension:c}=e,{scene:u,animations:m}=(0,i.L)("../models/SAE-Baja-Suspension-Wheel.glb"),h=(0,s.useRef)(),d=(0,s.useRef)(),p=(0,s.useRef)(1);return(0,s.useEffect)(()=>{m.length&&(h.current&&h.current.stopAllAction(),h.current=new o.AnimationMixer(u),d.current=h.current.clipAction(m[0]),d.current.setLoop(o.LoopOnce,0),d.current.clampWhenFinished=!0,d.current.play())},[m,u]),(0,s.useEffect)(()=>{d.current&&(d.current.paused=n)},[n]),(0,l.F)((e,r)=>{if(h.current&&!n){let e=d.current.time;if(c){let e=d.current.getClip().duration;d.current.time=a/100*e,h.current.update(0)}else if("Normal"===t)e>=9&&(d.current.timeScale=-1),e<=1&&(d.current.timeScale=1);else if("SmallBounce"===t)e>=7&&(d.current.timeScale=-2),e<=5&&(d.current.timeScale=2);else if("SharpBumps"===t)e>=6&&(d.current.timeScale=-8),e<=4&&(d.current.timeScale=8);else if("Jump"===t)switch(p.current){case 1:e>=7&&(p.current=2,d.current.timeScale=-10);break;case 2:e<=2&&(p.current=3,d.current.timeScale=10);break;case 3:e>=6&&(p.current=1,d.current.timeScale=1)}h.current.update(r)}}),u&&(u.position.set(-5,-5,0),u.scale.set(3,3,3)),(0,r.jsx)("primitive",{object:u})}function x(e){let{currentBumpSensor:t,isPausedSensor:n,sliderValueSensor:a,useSliderSensor:c}=e,{scene:u,animations:m}=(0,i.L)("../models/sensor.glb"),h=(0,s.useRef)(),d=(0,s.useRef)(),p=(0,s.useRef)(1);return(0,s.useEffect)(()=>{m.length&&(h.current&&h.current.stopAllAction(),h.current=new o.AnimationMixer(u),d.current=h.current.clipAction(m[0]),console.log("Animation Duration:",d.current.getClip().duration),"Normal"===t?(d.current.time=1,d.current.setLoop(o.LoopRepeat,1/0),d.current.timeScale=a/50,d.current.play()):"SmallBounce"===t?(d.current.time=5,d.current.setLoop(o.LoopOnce,0),d.current.timeScale=a/50,d.current.play()):"SharpBumps"===t?(d.current.time=4,d.current.setLoop(o.LoopOnce,0),d.current.timeScale=a/50,d.current.play()):"Jump"===t&&(d.current.time=6,d.current.timeScale=a/50,p.current=1,d.current.play()))},[m,u,t,a]),(0,s.useEffect)(()=>{d.current&&(d.current.paused=n)},[n]),(0,l.F)((e,r)=>{if(h.current&&!n){let e=d.current.time;if(c){let e=a/100*d.current.getClip().duration;d.current.time=e,h.current.update(0)}else if("Normal"===t)e>=9&&(d.current.timeScale=-1),e<=1&&(d.current.timeScale=1);else if("SmallBounce"===t)e>=7&&(d.current.timeScale=-2),e<=5&&(d.current.timeScale=2);else if("SharpBumps"===t)e>=6&&(d.current.timeScale=-8),e<=4&&(d.current.timeScale=8);else if("Jump"===t)switch(p.current){case 1:e>=7&&(p.current=2,d.current.timeScale=-10);break;case 2:e<=2&&(p.current=3,d.current.timeScale=10);break;case 3:e>=6&&(p.current=1,d.current.timeScale=1)}h.current.update(r)}}),u&&(u.position.set(-15,-5,0),u.scale.set(1,1,1)),(0,r.jsx)("primitive",{object:u})}function b(){let[e,t]=(0,s.useState)([4,10,8]),[n,l]=(0,s.useState)("Normal"),[i,o]=(0,s.useState)("Normal"),[b,S]=(0,s.useState)(!1),[f,g]=(0,s.useState)(0),[j,N]=(0,s.useState)(!1),[y,w]=(0,s.useState)(0),[v,C]=(0,s.useState)(!1),[k,B]=(0,s.useState)(!1),L=e=>{l(e),C(!1)},R=e=>{o(e),B(!1)};return(0,r.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,r.jsx)("h1",{className:"text-4xl font-bold mb-4",children:"Suspension Simulation with Three.js"}),(0,r.jsx)("h2",{className:"text-4xl font-bold mb-4",children:"Project Overview:"}),(0,r.jsx)("p",{className:"text-lg",children:" This project simulates the suspension system of the SAE Baja vehicle I designed the embedded electronics for. "}),(0,r.jsx)("p",{className:"text-lg",children:" There are multiple types of terrain bumps based on what we encountered in our last competition. "}),(0,r.jsx)("p",{className:"text-lg mb-4",children:" In the future, this simulation will be based entirely on the data gathered from that event. "}),(0,r.jsx)("p",{className:"text-lg",children:" At the moment this is only a simulation, not based on any sort of data! ( This feature is coming soon \uD83D\uDE42 ). "}),(0,r.jsx)("p",{className:"text-lg",children:" I cannot model the data after our last race, as a result of a physical malfunction ( unrelated to the sensor system )."}),(0,r.jsx)("p",{className:"text-lg mb-8",children:" In the future, I will be able to model our race data provided there are no malfunctions. "}),(0,r.jsx)(u.j,{className:"my-4"}),(0,r.jsxs)("div",{className:"w-full h-96",children:[(0,r.jsx)("h2",{className:"text-4xl font-bold mt-4 mb-4",children:"Front Suspension Simulation"}),(0,r.jsxs)(a.Xz,{children:[(0,r.jsx)("ambientLight",{intensity:.75}),(0,r.jsx)("directionalLight",{position:[0,2,10],intensity:1}),(0,r.jsx)(p,{currentBumpSuspension:n,isPausedSuspension:v,sliderValueSuspension:f,useSliderSuspension:b}),(0,r.jsx)(c.z,{enableRotate:!1,enableZoom:!1,enablePan:!1})]})]}),(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center my-4 gap-2",children:[(0,r.jsx)(d.e,{content:"Click to switch between buttons or a slider",children:(0,r.jsx)(m.i,{className:"text-white",isSelected:b,onValueChange:e=>{S(e),actionSuspension.current&&(actionSuspension.current.stop(),actionSuspension.current.reset(),actionSuspension.current.play())},color:"primary",size:"lg"})}),(0,r.jsxs)("p",{className:"text-small text-default-500",children:["Selected: ",b?"Slider":"Buttons"]})]}),b?(0,r.jsx)("div",{className:"flex flex-col items-center mt-4",children:(0,r.jsx)(h.L,{label:"Suspension Control",step:1,maxValue:99,minValue:1,hideValue:!0,value:f,onChange:e=>g(e),className:"max-w-md"})}):(0,r.jsxs)("div",{className:"flex flex-wrap justify-center mt-4 gap-2",children:[(0,r.jsx)("button",{onClick:()=>L("Normal"),className:"px-4 py-2 bg-green-500 text-white rounded hover:bg-green-700",children:"Normal"}),(0,r.jsx)("button",{onClick:()=>L("SmallBounce"),className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-700",children:"Slow Rolling"}),(0,r.jsx)("button",{onClick:()=>L("SharpBumps"),className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-700",children:"Washboard Road"}),(0,r.jsx)("button",{onClick:()=>L("Jump"),className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-700",children:"Jump"}),(0,r.jsxs)("button",{onClick:()=>{C(e=>!e)},className:"px-4 py-2 bg-gray-500 text-white rounded hover:bg-gray-700",children:[v?"Resume":"Pause"," Animation"]})]}),(0,r.jsx)(u.j,{className:"my-4"}),(0,r.jsx)("h1",{className:"text-4xl font-bold mb-4",children:"How the sensor works:"}),(0,r.jsx)("p",{className:"text-lg mb-8",children:"The sensor is a device that measures the angle of the suspension arm relative to the body of the vehicle. It sends this data to the microcontroller, which then logs the data."}),(0,r.jsx)("div",{className:"w-full h-96",children:(0,r.jsxs)(a.Xz,{camera:{position:e},children:[(0,r.jsx)("ambientLight",{intensity:.75}),(0,r.jsx)("directionalLight",{position:[2,4,10],intensity:1}),(0,r.jsx)(x,{currentBumpSensor:i,isPausedSensor:k,sliderValueSensor:y,useSliderSensor:j}),(0,r.jsx)(c.z,{enableRotate:!1,enableZoom:!1,enablePan:!1})]})}),(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center my-4 gap-2",children:[(0,r.jsx)(d.e,{content:"Click to switch between buttons or a slider!",children:(0,r.jsx)(m.i,{className:"text-white",isSelected:j,onValueChange:e=>{N(e),actionSensor.current&&(actionSensor.current.stop(),actionSensor.current.reset(),actionSensor.current.play())},color:"primary",size:"lg"})}),(0,r.jsxs)("p",{className:"text-small text-default-500",children:["Selected: ",j?"Slider":"Buttons"]})]}),j?(0,r.jsx)("div",{className:"flex flex-col items-center mt-4",children:(0,r.jsx)(h.L,{label:"Control Sensor",step:1,maxValue:99,minValue:1,hideValue:!0,value:y,onChange:e=>w(e),className:"max-w-md"})}):(0,r.jsxs)("div",{className:"flex flex-wrap justify-center mt-4 gap-2",children:[(0,r.jsx)("button",{onClick:()=>R("Normal"),className:"px-4 py-2 bg-green-500 text-white rounded hover:bg-green-700",children:"Normal Sensor"}),(0,r.jsx)("button",{onClick:()=>R("SmallBounce"),className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-700",children:"Slow Rolling Sensor"}),(0,r.jsx)("button",{onClick:()=>R("SharpBumps"),className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-700",children:"Washboard Road Sensor"}),(0,r.jsx)("button",{onClick:()=>R("Jump"),className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-700",children:"Jump Sensor"}),(0,r.jsxs)("button",{onClick:()=>{B(e=>!e)},className:"px-4 py-2 bg-gray-500 text-white rounded hover:bg-gray-700",children:[k?"Resume":"Pause"," Sensor Animation"]})]}),(0,r.jsx)("p",{className:"text-lg mb-8 mt-8",children:"The sensor is a rotary potentiometer, the voltage output of which is proportional to the angle of the suspension arm. The microcontroller reads this voltage and converts it to an angle."})]})}}},function(e){e.O(0,[689,635,77,476,383,181,547,971,23,744],function(){return e(e.s=30746)}),_N_E=e.O()}]);